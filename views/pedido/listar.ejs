<script src="/js/Pedido/filtrar.js"></script>
<script src="https://cdn.sheetjs.com/xlsx-0.19.3/package/dist/xlsx.full.min.js"></script>

<style>
    .radioOrd > label {
        margin-right: 15px;
    }
</style>

<h1>
    Pedidos
</h1>
<div>
    <div>
        <div class="input-group mb-3">
            <select class="form-control" id="selBusca">
                <option selected value="1">Nome do produto</option>
                <option value="2">Código do produto</option>
                <option value="3">Número do pedido</option>
            </select>
            <input id="inputPesquisa" type="text" class="form-control">
            <div class="input-group-append">
              <button class="btn btn-primary" type="button" id="btnPesquisa"><i class="fas fa-search"> </i> Pesquisar</button>
            </div>
        </div>
        <div class="radioOrd">
            <div>Ordernar por:</div>
            <label><input value="1" type="radio" checked="checked" name="rdOrdenacao" />Número do pedido</label>
            <label><input value="2" type="radio" name="rdOrdenacao"  />Valor</label>
            <label><input value="3" type="radio" name="rdOrdenacao" />Quantidade</label>         
        </div>
    </div>
    <div>
        <button id="btnExportarExcel" class="btn btn-primary"><i class="fas fa-file"></i> Exportar para Excel</button>
    </div>
    <div id="rotuloQtdePedidos" style="text-align:end;">
        <b>Quantidade de pedidos: <%= lista.length %></b>
    </div>
    <div class="table-responsive">
        <table id="tabelaPedidos" class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Num. Pedido</th>
                    <th>Prod. Cod.</th>
                    <th>Prod. Nome</th>
                    <th>Preço unitário</th>
                    <th>Quantidade</th>
                    <th>Valor</th>
                </tr>
            </thead>
            <tbody id="corpoTabelaPedido">
                <% lista.forEach(function(value, index) { %>
                    <tr>
                        <td><%= value.pedidoId %></td>
                        <td><%= value.produtoCodigo %></td>
                        <td><%= value.nomeProduto %></td>
                        <td>R$ <%= value.precoUnitario %></td>
                        <td><%= value.pedidoItemQuantidade %></td>
                        <td>R$ <%= value.pedidoItemValor %></td>
                    </tr>   
                <% }) %> 
            </tbody>

        </table>
    </div>
</div>